services:
  fbb-mcp:
    build: .
    container_name: fbb-mcp
    volumes:
      - ./config:/app/config
      - ./data:/app/data
      - ./scripts:/app/scripts
    environment:
      - YAHOO_CONSUMER_KEY=${YAHOO_CONSUMER_KEY}
      - YAHOO_CONSUMER_SECRET=${YAHOO_CONSUMER_SECRET}
      - OAUTH_FILE=/app/config/yahoo_oauth.json
      - LEAGUE_ID=${LEAGUE_ID}
      - TEAM_ID=${TEAM_ID}
      - PYTHON_API_URL=http://localhost:8766
      - MCP_SERVER_URL=${MCP_SERVER_URL}
      - MCP_AUTH_PASSWORD=${MCP_AUTH_PASSWORD}
      - ENABLE_WRITE_OPS=${ENABLE_WRITE_OPS:-false}
      - ENABLE_PREVIEW=${ENABLE_PREVIEW:-false}
      - PORT=4951
    ports:
      - "4951:4951"
      - "8766:8766"
    shm_size: '2gb'
    init: true
    tty: true
    stdin_open: true
    restart: unless-stopped
